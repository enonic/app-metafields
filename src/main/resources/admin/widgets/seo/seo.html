<widget>
    <link rel="stylesheet" type="text/css" data-th-href="${portal.assetUrl({'_path=css/widget.css'})}">
    <div data-th-unless="${summary}" class="xpapp-seo-metafields">
        <p class="seo-info-box">
            To view SEO stats for this site's contents, add the <strong>SEO Meta Fields</strong> app to the site content.
        </p>
    </div>
    <div data-th-if="${summary}" class="xpapp-seo-metafields">
        <p class="seo-info-box">
            For this specific content/page, the following general data (scroll down in this widget to see Facebook and Twitter data) is
            extracted by the app. Press Ctrl/Cmd + E to open this content item for edit and scroll down to the SEO-section to update the
            data.
        </p>
        <div class="seo-table">
            <h2>General</h2>
            <dl>
                <dt>Block robots</dt>
                <dd>
                    <p data-th-if="${summary.blockRobots}" data-th-text="'Search engines are being blocked!'" class="warning"></p>
                    <p data-th-unless="${summary.blockRobots}" data-th-text="'Nope =)'" class="message-empty"></p>
                </dd>
                <dt>SEO title</dt>
                <dd data-th-text="${summary.fullTitle}"></dd>
                <dt>Meta Description</dt>
                <dd>
                    <p data-th-if="${summary.description}" data-th-text="${summary.description}"></p>
                    <p data-th-unless="${summary.description}" class="message-empty">
                        No description found!
                    </p>
                </dd>
                <dt>Image</dt>
                <dd>
                    <div data-th-if="${summary.image}">
                        <img data-th-src="${summary.image}"/>
                    </div>
                    <div data-th-unless="${summary.image}" class="message-empty">
                        No image found!
                    </div>
                </dd>
                <dt>Canonical URL</dt>
                <dd>
                    <p th:if="${summary.canonical}" th:text="${summary.canonical}"></p>
                    <p data-th-unless="${summary.canonical}" class="message-empty">
                        This page doesn't have a canonical URL.
                    </p>
                </dd>
            </dl>
        </div>
        <p class="seo-info-box">
            The following is the exact data Facebook (and LinkedIn), and Twitter (if activated) will find on this specific page. Data not
            present is not set and thus not sent.<br/>
            <strong>Tip:</strong> Hover any of the labels to see the meta-tag being used.
        </p>
        <div class="seo-table compact">
            <h2>Facebook
                <small>(open graph)</small>
            </h2>
            <dl>
                <dt title="&lt;og:site_name&gt;">Site name</dt>
                <dd data-th-text="${og.siteName}">x</dd>
                <dt title="&lt;og:type&gt;">Type</dt>
                <dd data-th-text="${og.type}">x</dd>
                <dt title="&lt;og:locale&gt;">Locale</dt>
                <dd data-th-text="${og.locale}">x</dd>
                <dt title="&lt;og:title&gt;">Title</dt>
                <dd data-th-text="${og.title}">x</dd>
                <div data-th-remove="tag" data-th-if="${og.description}">
                    <dt title="&lt;og:description&gt;">Description</dt>
                    <dd data-th-text="${og.description}">x</dd>
                </div>
                <dt title="&lt;og:url&gt;">Url</dt>
                <dd th:text="${og.url}">x</dd>
                <div data-th-remove="tag" data-th-if="${og.image.src}">
                    <dt title="&lt;og:image&gt;">Image</dt>
                    <dd>
                        <img data-th-src="${og.image.src}"/><br/>
                        <p title="&lt;og:image:width&gt; and &lt;og:image:height&gt;">
                            <span data-th-text="${og.image.width}">x</span>x<span data-th-text="${og.image.height}">x</span>
                        </p>
                    </dd>
                </div>
            </dl>
            <p class="center">
                <a href="https://developers.facebook.com/tools/debug/sharing/" target="_blank">Open the Facebook debugger</a>
            </p>
        </div>
        <div class="seo-table compact">
            <h2>Twitter Cards</h2>
            <dl data-th-if="${twitter.active}">
                <dt title="&lt;twitter:card&gt;">Card</dt>
                <dd>summary_large_image</dd>
                <dt title="&lt;twitter:site&gt;">Site</dt>
                <dd data-th-text="${twitter.site}">x</dd>
                <dt title="&lt;twitter:title&gt;">Title</dt>
                <dd data-th-text="${twitter.title}">x</dd>
                <div data-th-remove="tag" data-th-if="${twitter.description}">
                    <dt title="&lt;twitter:description&gt;">Description</dt>
                    <dd data-th-text="${twitter.description}">x</dd>
                </div>
                <dt title="&lt;twitter:image:src&gt;">Image</dt>
                <dd>
                    <div data-th-if="${twitter.image}">
                        <img data-th-src="${twitter.image}"/>
                    </div>
                    <div data-th-unless="${twitter.image}" class="message-empty">
                        No image used!
                    </div>
                </dd>
            </dl>
            <p data-th-if="${twitter.active}" class="center">
                <a href="https://cards-dev.twitter.com/validator" target="_blank">Open the Twitter card validator</a>
            </p>
            <p data-th-unless="${twitter.active}" class="center">
                Twitter cards are not activated!
            </p>
        </div>
    </div>
</widget>

